{"id":"d15b","dependencies":[{"name":"D:\\桌面文件\\svg-dom-view\\tsconfig.json","includedInParent":true,"mtime":1604643832286},{"name":"D:\\桌面文件\\svg-dom-view\\package.json","includedInParent":true,"mtime":1605230656527},{"name":"jquery","loc":{"line":6,"column":39},"parent":"D:\\桌面文件\\svg-dom-view\\src\\js\\addBtn.ts","resolved":"D:\\桌面文件\\svg-dom-view\\node_modules\\jquery\\dist\\jquery.js"},{"name":"./singleTip","loc":{"line":7,"column":26},"parent":"D:\\桌面文件\\svg-dom-view\\src\\js\\addBtn.ts","resolved":"D:\\桌面文件\\svg-dom-view\\src\\js\\singleTip.ts"},{"name":"../config","loc":{"line":8,"column":23},"parent":"D:\\桌面文件\\svg-dom-view\\src\\js\\addBtn.ts","resolved":"D:\\桌面文件\\svg-dom-view\\src\\config.ts"},{"name":"../utils/utils","loc":{"line":9,"column":22},"parent":"D:\\桌面文件\\svg-dom-view\\src\\js\\addBtn.ts","resolved":"D:\\桌面文件\\svg-dom-view\\src\\utils\\utils.ts"}],"generated":{"js":"\"use strict\";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,\"__esModule\",{value:!0});var t=e(require(\"jquery\")),r=require(\"./singleTip\"),a=require(\"../config\"),n=require(\"../utils/utils\"),i=function(){function e(e){this.addBtn=e,this.addBtnClickHandler=function(e){var i=t.default(e.currentTarget).attr(\"data-uid\"),d=t.default(\"#add-props\").val(),s=t.default(\"#add-value\").val();if(i)if(d&&s)if(t.default(e.currentTarget).hasClass(\"text-node\"))r.singleTip(\"文本节点不能添加属性\",\"error\");else{var l=t.default(\"#\"+i),p=l.get(0).tagName,u=l.get(0).getAttributeNames();if(-1===Array.from(new Set(a.getProps(p).concat(u))).indexOf(d)){l.attr(d,s);var o=t.default(\"#dom-\"+i).children(\".head-wrap\").children(\".props-wrap\"),c=o.children(\".wrap-\"+d);if(\"\"==s&&0!==c.length)return c.remove();0===c.length?o.append('<span class=\"wrap-'+d+'\"><span class=\"props name-'+d+'\">'+d+'</span>=<span class=\"props-value\">'+s+\"</span></span>\"):c.children(\".name-\"+d).next().text(s);var f=i+\"_\"+d,h=n.createPropsAndValue(d,s,i,f);t.default(\"#attr-wrap\").append(h)}else r.singleTip(\"属性名不能重复\")}else r.singleTip(\"属性名或属性值为空\",\"error\");else r.singleTip(\"所选内容为空\",\"error\")},this.addBtn=e,this.bindAddBtnClick()}return e.prototype.bindAddBtnClick=function(){this.addBtn.on(\"click\",this.addBtnClickHandler)},e}();exports.default=i;"},"sourceMaps":{"js":{"mappings":[{"source":"src/js/addBtn.ts","name":null,"original":{"line":66,"column":0},"generated":{"line":1,"column":0}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":66,"column":0},"generated":{"line":1,"column":13}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":66,"column":0},"generated":{"line":1,"column":17}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":66,"column":0},"generated":{"line":1,"column":19}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":66,"column":0},"generated":{"line":1,"column":25}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":66,"column":0},"generated":{"line":1,"column":30}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":66,"column":0},"generated":{"line":1,"column":47}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":66,"column":0},"generated":{"line":1,"column":56}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":66,"column":0},"generated":{"line":1,"column":59}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":66,"column":0},"generated":{"line":1,"column":66}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":66,"column":0},"generated":{"line":1,"column":69}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":66,"column":0},"generated":{"line":1,"column":71}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":66,"column":0},"generated":{"line":1,"column":82}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":66,"column":0},"generated":{"line":1,"column":84}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":66,"column":0},"generated":{"line":1,"column":85}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":66,"column":0},"generated":{"line":1,"column":93}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":66,"column":0},"generated":{"line":1,"column":97}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":66,"column":0},"generated":{"line":1,"column":104}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":66,"column":0},"generated":{"line":1,"column":119}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":66,"column":0},"generated":{"line":1,"column":127}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":66,"column":0},"generated":{"line":1,"column":140}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":66,"column":0},"generated":{"line":1,"column":141}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":66,"column":0},"generated":{"line":1,"column":148}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":152}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":156}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":158}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":160}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":168}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":179}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":181}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":189}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":204}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":206}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":214}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":227}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":229}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":237}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":255}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":257}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":11,"column":4},"generated":{"line":1,"column":268}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":11,"column":4},"generated":{"line":1,"column":277}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":11,"column":23},"generated":{"line":1,"column":279}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":11,"column":23},"generated":{"line":1,"column":282}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":11,"column":23},"generated":{"line":1,"column":287}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":11,"column":23},"generated":{"line":1,"column":294}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":20,"column":4},"generated":{"line":1,"column":296}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":20,"column":4},"generated":{"line":1,"column":301}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":20,"column":25},"generated":{"line":1,"column":320}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":20,"column":26},"generated":{"line":1,"column":329}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":21,"column":12},"generated":{"line":1,"column":332}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":21,"column":12},"generated":{"line":1,"column":336}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":21,"column":38},"generated":{"line":1,"column":338}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":21,"column":38},"generated":{"line":1,"column":340}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":21,"column":40},"generated":{"line":1,"column":348}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":21,"column":46},"generated":{"line":1,"column":350}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":21,"column":61},"generated":{"line":1,"column":365}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":21,"column":66},"generated":{"line":1,"column":370}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":22,"column":12},"generated":{"line":1,"column":382}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":22,"column":28},"generated":{"line":1,"column":384}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":22,"column":28},"generated":{"line":1,"column":386}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":22,"column":30},"generated":{"line":1,"column":394}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":22,"column":44},"generated":{"line":1,"column":408}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":23,"column":12},"generated":{"line":1,"column":414}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":23,"column":33},"generated":{"line":1,"column":416}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":23,"column":33},"generated":{"line":1,"column":418}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":23,"column":35},"generated":{"line":1,"column":426}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":23,"column":49},"generated":{"line":1,"column":440}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":25,"column":12},"generated":{"line":1,"column":446}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":25,"column":13},"generated":{"line":1,"column":449}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":29,"column":12},"generated":{"line":1,"column":451}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":29,"column":13},"generated":{"line":1,"column":454}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":29,"column":23},"generated":{"line":1,"column":457}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":33,"column":12},"generated":{"line":1,"column":459}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":33,"column":12},"generated":{"line":1,"column":462}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":33,"column":12},"generated":{"line":1,"column":464}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":33,"column":14},"generated":{"line":1,"column":472}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":33,"column":20},"generated":{"line":1,"column":474}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":33,"column":35},"generated":{"line":1,"column":489}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":33,"column":44},"generated":{"line":1,"column":498}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":34,"column":12},"generated":{"line":1,"column":511}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":34,"column":12},"generated":{"line":1,"column":513}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":34,"column":22},"generated":{"line":1,"column":523}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":34,"column":36},"generated":{"line":1,"column":536}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":33,"column":12},"generated":{"line":1,"column":549}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":37,"column":12},"generated":{"line":1,"column":550}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":37,"column":12},"generated":{"line":1,"column":554}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":37,"column":31},"generated":{"line":1,"column":556}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":37,"column":31},"generated":{"line":1,"column":558}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":37,"column":33},"generated":{"line":1,"column":566}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":37,"column":39},"generated":{"line":1,"column":570}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":38,"column":12},"generated":{"line":1,"column":573}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":38,"column":26},"generated":{"line":1,"column":575}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":38,"column":35},"generated":{"line":1,"column":577}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":38,"column":39},"generated":{"line":1,"column":581}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":38,"column":42},"generated":{"line":1,"column":584}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":39,"column":12},"generated":{"line":1,"column":592}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":39,"column":33},"generated":{"line":1,"column":594}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":39,"column":42},"generated":{"line":1,"column":596}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":39,"column":46},"generated":{"line":1,"column":600}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":39,"column":49},"generated":{"line":1,"column":603}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":41,"column":12},"generated":{"line":1,"column":623}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":41,"column":39},"generated":{"line":1,"column":627}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":40,"column":31},"generated":{"line":1,"column":631}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":40,"column":37},"generated":{"line":1,"column":637}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":40,"column":42},"generated":{"line":1,"column":642}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":40,"column":46},"generated":{"line":1,"column":646}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":40,"column":50},"generated":{"line":1,"column":650}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":40,"column":50},"generated":{"line":1,"column":652}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":40,"column":59},"generated":{"line":1,"column":661}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":40,"column":75},"generated":{"line":1,"column":664}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":40,"column":82},"generated":{"line":1,"column":671}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":41,"column":19},"generated":{"line":1,"column":676}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":41,"column":27},"generated":{"line":1,"column":684}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":41,"column":12},"generated":{"line":1,"column":687}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":45,"column":8},"generated":{"line":1,"column":688}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":45,"column":17},"generated":{"line":1,"column":690}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":45,"column":22},"generated":{"line":1,"column":695}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":45,"column":29},"generated":{"line":1,"column":697}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":46,"column":12},"generated":{"line":1,"column":700}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":47,"column":12},"generated":{"line":1,"column":704}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":46,"column":30},"generated":{"line":1,"column":706}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":46,"column":30},"generated":{"line":1,"column":708}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":46,"column":32},"generated":{"line":1,"column":716}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":46,"column":42},"generated":{"line":1,"column":724}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":47,"column":40},"generated":{"line":1,"column":727}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":47,"column":49},"generated":{"line":1,"column":736}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":48,"column":13},"generated":{"line":1,"column":750}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":48,"column":22},"generated":{"line":1,"column":759}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":49,"column":12},"generated":{"line":1,"column":774}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":49,"column":32},"generated":{"line":1,"column":776}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":49,"column":42},"generated":{"line":1,"column":778}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":49,"column":51},"generated":{"line":1,"column":787}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":49,"column":62},"generated":{"line":1,"column":796}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":1,"column":799}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":50,"column":26},"generated":{"line":1,"column":802}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":1,"column":806}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":50,"column":53},"generated":{"line":1,"column":809}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":50,"column":32},"generated":{"line":1,"column":813}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":50,"column":42},"generated":{"line":1,"column":815}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":51,"column":19},"generated":{"line":1,"column":822}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":51,"column":19},"generated":{"line":1,"column":829}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":51,"column":29},"generated":{"line":1,"column":831}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":53,"column":33},"generated":{"line":1,"column":840}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":53,"column":12},"generated":{"line":1,"column":844}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":53,"column":22},"generated":{"line":1,"column":846}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":54,"column":12},"generated":{"line":1,"column":853}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":54,"column":22},"generated":{"line":1,"column":855}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":54,"column":29},"generated":{"line":1,"column":862}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":54,"column":50},"generated":{"line":1,"column":883}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":54,"column":55},"generated":{"line":1,"column":885}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":54,"column":84},"generated":{"line":1,"column":914}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":54,"column":89},"generated":{"line":1,"column":916}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":54,"column":94},"generated":{"line":1,"column":921}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":54,"column":99},"generated":{"line":1,"column":923}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":54,"column":136},"generated":{"line":1,"column":960}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":54,"column":146},"generated":{"line":1,"column":962}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":56,"column":12},"generated":{"line":1,"column":980}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":56,"column":22},"generated":{"line":1,"column":982}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":56,"column":31},"generated":{"line":1,"column":991}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":56,"column":42},"generated":{"line":1,"column":1000}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":56,"column":49},"generated":{"line":1,"column":1003}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":56,"column":56},"generated":{"line":1,"column":1010}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":56,"column":61},"generated":{"line":1,"column":1015}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":58,"column":12},"generated":{"line":1,"column":1018}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":58,"column":12},"generated":{"line":1,"column":1022}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":58,"column":30},"generated":{"line":1,"column":1024}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":58,"column":36},"generated":{"line":1,"column":1026}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":58,"column":42},"generated":{"line":1,"column":1030}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":59,"column":12},"generated":{"line":1,"column":1032}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":59,"column":31},"generated":{"line":1,"column":1034}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":59,"column":31},"generated":{"line":1,"column":1036}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":59,"column":51},"generated":{"line":1,"column":1056}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":59,"column":58},"generated":{"line":1,"column":1058}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":59,"column":70},"generated":{"line":1,"column":1060}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":59,"column":75},"generated":{"line":1,"column":1062}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":61,"column":8},"generated":{"line":1,"column":1065}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":61,"column":8},"generated":{"line":1,"column":1067}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":61,"column":10},"generated":{"line":1,"column":1075}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":61,"column":24},"generated":{"line":1,"column":1089}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":61,"column":31},"generated":{"line":1,"column":1096}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":42,"column":12},"generated":{"line":1,"column":1104}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":42,"column":12},"generated":{"line":1,"column":1106}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":42,"column":22},"generated":{"line":1,"column":1116}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":30,"column":12},"generated":{"line":1,"column":1132}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":30,"column":12},"generated":{"line":1,"column":1134}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":30,"column":22},"generated":{"line":1,"column":1144}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":30,"column":35},"generated":{"line":1,"column":1156}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":26,"column":12},"generated":{"line":1,"column":1170}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":26,"column":12},"generated":{"line":1,"column":1172}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":26,"column":22},"generated":{"line":1,"column":1182}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":26,"column":32},"generated":{"line":1,"column":1191}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":12,"column":13},"generated":{"line":1,"column":1201}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":12,"column":13},"generated":{"line":1,"column":1206}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":12,"column":22},"generated":{"line":1,"column":1213}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":1215}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":1220}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":64,"column":0},"generated":{"line":1,"column":1238}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":16,"column":4},"generated":{"line":1,"column":1245}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":16,"column":4},"generated":{"line":1,"column":1247}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":16,"column":4},"generated":{"line":1,"column":1257}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":16,"column":4},"generated":{"line":1,"column":1273}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":17,"column":13},"generated":{"line":1,"column":1284}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":17,"column":13},"generated":{"line":1,"column":1289}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":17,"column":20},"generated":{"line":1,"column":1296}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":17,"column":23},"generated":{"line":1,"column":1299}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":17,"column":32},"generated":{"line":1,"column":1307}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":17,"column":37},"generated":{"line":1,"column":1312}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":64,"column":0},"generated":{"line":1,"column":1333}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":1335}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":66,"column":0},"generated":{"line":1,"column":1338}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":66,"column":0},"generated":{"line":1,"column":1346}},{"source":"src/js/addBtn.ts","name":null,"original":{"line":66,"column":15},"generated":{"line":1,"column":1354}}],"sources":{"src/js/addBtn.ts":"import $ from \"jquery\";\r\nimport {singleTip} from \"./singleTip\";\r\nimport {getProps, SVG_TAG} from \"../config\";\r\nimport ClickEvent = JQuery.ClickEvent;\r\nimport {createPropsAndValue} from \"../utils/utils\";\r\n\r\n/**\r\n * 添加属性按钮\r\n */\r\nclass AddBtn {\r\n    constructor(public addBtn: JQuery) {\r\n        this.addBtn = addBtn\r\n        this.bindAddBtnClick()\r\n    }\r\n\r\n    bindAddBtnClick() {\r\n        this.addBtn.on('click', this.addBtnClickHandler)\r\n    }\r\n\r\n    addBtnClickHandler = (event: ClickEvent) => {\r\n        let uid: string | undefined = $(event.currentTarget).attr(\"data-uid\")\r\n        let props: string = $(\"#add-props\").val() as string\r\n        let propsValue: string = $(\"#add-value\").val() as string\r\n\r\n        if (!uid) {\r\n            singleTip(\"所选内容为空\", \"error\")\r\n            return\r\n        }\r\n        if (!props || !propsValue) {\r\n            singleTip(\"属性名或属性值为空\", \"error\")\r\n            return\r\n        }\r\n        if ($(event.currentTarget).hasClass(\"text-node\")) {\r\n            singleTip(\"文本节点不能添加属性\", \"error\")\r\n            return\r\n        }\r\n        let domGraph: JQuery = $(\"#\" + uid)\r\n        let tag: string = domGraph.get(0).tagName\r\n        let propsArr: string[] = domGraph.get(0).getAttributeNames()\r\n        let tagArr: string[] = Array.from(new Set(getProps(tag as SVG_TAG).concat(propsArr)))\r\n        if (tagArr.indexOf(props) !== -1) {\r\n            singleTip(\"属性名不能重复\")\r\n            return\r\n        }\r\n        domGraph.attr(props, propsValue)\r\n        let domView: JQuery = $(\"#dom-\" + uid)\r\n        let propsWrap: JQuery = domView.children(\".head-wrap\")\r\n            .children(\".props-wrap\")\r\n        let nameProps: JQuery = propsWrap.children(\".wrap-\" + props)\r\n        if (propsValue == '' && nameProps.length !== 0) {\r\n            return nameProps.remove()\r\n        }\r\n        if (nameProps.length === 0) {\r\n            propsWrap.append(`<span class=\"wrap-${props}\"><span class=\"props name-${props}\">${props}</span>=<span class=\"props-value\">${propsValue}</span></span>`)\r\n        } else {\r\n            nameProps.children(\".name-\" + props).next().text(propsValue)\r\n        }\r\n        let inputId: string = uid + \"_\" + props\r\n        let attrHtml: string = createPropsAndValue(props, propsValue, uid, inputId)\r\n\r\n        $(\"#attr-wrap\").append(attrHtml)\r\n\r\n    }\r\n}\r\n\r\nexport default AddBtn"},"lineCount":null}},"error":null,"hash":"f6a2ee65b099cfa2728a6552c32e1c3d","cacheData":{"env":{}}}